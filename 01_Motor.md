# Motor Equations

## 1. Torque Equation

### Variable Definitions

* $\Large \tau_m$ : Torque generated by the motor. Measured in Newton-Meters: $\Large Nm$.
* $\Large \tau_{I}$ : Torque generated by the electrical current of the motor. Measured in Newton-Meters: $\Large Nm$.
* $\Large \tau_{s_{m}}$ : Torque due to static friction on the motor. Measured in Newton-Meters: $\Large Nm$.
* $\Large \omega_{m}$ : Angular velocity of the motor. Measured in Radians per Second: $\Large \frac{rad}{s}$

### Special Functions

The signum $\Large sgn(x)$ function is a piece-wise function defined as follows.

> $$\Large
sgn(x) = \begin{cases}
1 & \text{if } x < 0 \\
0 & \text{if } x = 0 \\
-1 & \text{if } x < 0
\end{cases}
$$


The torque generated by the motor is the sum of all of the torques acting on the system.  
In this case the torque generated by the motor's current and the static friction torque.   
Static friction acts in the direction opposite of the motion (angular velocity).  
The signum function (sgn) will return either 1 or -1 based on the direction of the angular velocity.  
If no motion then signum gives us 0.  
This gives us the following.
> $\Large \tau_m = \tau_{I} - \tau_{s_{m}} sgn(\omega_m)$

## 2. Relationship between Torque and Electrical Current

### Variable Definitions

* $\Large I_m$ : Electrical current running through the motor. Measured in Amperes (Amps): $\Large A$
* $\Large K_t$ : Motor-torque constant. Measured in Newton-Meters per Amp: $\Large \frac{Nm}{A}$

The applied motor torque is directly proportional to the electric current running through the motor via the motor-torque
constant.  
This gives us the following.
> $\Large \tau_{I} = K_tI_m$

Substituting this in for equation in section 1 we get the following.

> $\Large \tau_m = K_tI_m - \tau_{s_{m}} sgn(\omega_m)$

## 3. Relationship between Current, Voltage, and Angular Velocity

### Variable Definitions

* $\Large V_m$: Potential difference (Voltage) applied across the motor's terminals. Measured in Volts: $\Large V$
* $\Large K_v$: Motor-velocity constant. Measured in Radians per Second per Volt: $\Large \frac{rad}{sV}$
* $\Large V_r$: Voltage drop due to the resistance in the motor's wires. Measured in Volts: $\Large V$
* $\Large V_{emf}$:Voltage drop due to the back-emf of the motor when it spins at an angular velocity. Measured in
  Volts: $\Large V$
* $R$: The resistance of the motor's wires. Measure in Ohms: $\Large \Omega$

Kirchoff's Voltage Law (KVL) states that the sum of the voltages on a motor must be 0.  
This gives us the following

> $\Large V_m - V_r - V_{emf} = 0$
>
> $\Large V_m = V_r + V_{emf}$
>

The voltage drop due to resistance is governed by Ohm's Law.
> $\Large V_r = IR$

The voltage drop due to the back-emf determined by the angular velocity fo the motor.
> $\Large V_{emf} = \frac{\omega_m}{K_v}$

This gives us the following relationship between $\Large V_m$, $\Large I_m$, and $\Large \omega$

> $\Large V_m = I_mR + \frac{\omega_m}{K_v}$

It will be useful later to solve the previous equations for $\Large I_m$.

> $\Large I_mR = V_m - \frac{\omega_m}{K_v}$
>
> $\Large I_mR = \frac{V_mK_v}{K_v} - \frac{\omega_m}{K_v}$
>
> $\Large I_m = \frac{V_mK_v}{RK_v} - \frac{\omega_m}{RK_v}$
>
> $\Large I_m = \frac{V_m}{R} - \frac{\omega_m}{RK_v}$


